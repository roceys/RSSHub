(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{53:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署","aria-hidden":"true"}},[t._v("#")]),t._v(" 部署")]),a("p",[t._v("部署 RSSHub 非常简单，如果您在部署过程中遇到无法解决的问题请到 "),a("a",{attrs:{href:"https://github.com/DIYgod/RSSHub/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues")]),t._v(" 寻找类似的问题或 "),a("a",{attrs:{href:"https://github.com/DIYgod/RSSHub/issues/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("向我们提问")]),t._v("，我们会尽快给您答复。")]),a("h2",{attrs:{id:"手动部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手动部署","aria-hidden":"true"}},[t._v("#")]),t._v(" 手动部署")]),a("p",[t._v("部署 "),a("code",[t._v("RSSHub")]),t._v(" 最直接的方式，您可以按照以下步骤将 "),a("code",[t._v("RSSHub")]),t._v(" 部署在您的 电脑、服务器或者其他任何地方。")]),a("h3",{attrs:{id:"在安装之前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在安装之前","aria-hidden":"true"}},[t._v("#")]),t._v(" 在安装之前")]),a("p",[t._v("在安装 RSSHub 之前，请确保您的电脑中已经安装了 "),a("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git")]),t._v(" 和 "),a("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js >= 10.0")]),t._v("。")]),a("h3",{attrs:{id:"安装-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-git","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 Git")]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),a("p",[t._v("首先您应该输入 "),a("code",[t._v("git")]),t._v("，看看系统有没有安装 Git：")]),a("p",[t._v("windows 打开 "),a("code",[t._v("cmd")]),t._v("， macOS 打开"),a("code",[t._v("终端(terminal)")]),t._v("。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v("\nusage: "),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--version"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--help"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-C "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-c name"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),a("ul",[a("li",[t._v("Windows：从 Git 官网直接"),a("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载安装程序")]),t._v("。")]),a("li",[t._v("MacOS：使用 "),a("a",{attrs:{href:"https://brew.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Homebrew")]),a("code",[t._v("$ brew install git")]),t._v(" 或者"),a("a",{attrs:{href:"https://git-scm.com/download/mac",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载安装程序")]),t._v("。")]),a("li",[t._v("Linux：使用您的包管理器安装例如 "),a("code",[t._v("$ sudo apt-get install git")]),t._v("。")])]),a("h3",{attrs:{id:"安装-node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-node-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 Node.JS")]),a("h4",{attrs:{id:"windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows","aria-hidden":"true"}},[t._v("#")]),t._v(" Windows")]),a("p",[t._v("Windows 用户请 "),a("a",{attrs:{href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载安装程序")]),t._v("。安装时，请勾选"),a("code",[t._v("Add to PATH")]),t._v("选项。")]),a("h4",{attrs:{id:"macos-linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macos-linux","aria-hidden":"true"}},[t._v("#")]),t._v(" MacOS & Linux")]),a("p",[t._v("安装 NodeJS 的最佳方式是使用 "),a("a",{attrs:{href:"https://github.com/creationix/nvm",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm")]),t._v("。")]),a("p",[t._v("安装 "),a("code",[t._v("nvm")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://raw.github.com/creationix/nvm/master/install.sh "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" sh\n")])]),a("p",[t._v("安装完成后，重启终端并执行下列命令即可安装 "),a("code",[t._v("Node.js")]),t._v("。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ nvm "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" node\n")])]),a("h3",{attrs:{id:"安装-rsshub"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-rsshub","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 RSSHub")]),a("p",[t._v("首先是下载 "),a("code",[t._v("RSSHub")]),t._v(" 的源码，请执行下列命令。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/DIYgod/RSSHub.git\n$ "),a("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" RSSHub\n")])]),a("p",[t._v("下载完成后，需要安装依赖。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),a("p",[t._v("推荐使用 "),a("a",{attrs:{href:"https://yarn.bootcss.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yarn")]),t._v(" ，"),a("code",[t._v("Yarn")]),t._v(" 比 "),a("code",[t._v("npm")]),t._v(" 更快更稳定。")]),a("p",[t._v("使用 "),a("code",[t._v("Yarn")]),t._v(" 安装依赖时只需要键入")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ yarn\n")])]),a("p",[t._v("由于众所周知的原因，在中国使用 "),a("code",[t._v("npm")]),t._v(" 下载依赖十分缓慢，建议挂一个代理或者考虑使用 "),a("a",{attrs:{href:"https://npm.taobao.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NPM 镜像")]),t._v("。")])]),a("h3",{attrs:{id:"启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动","aria-hidden":"true"}},[t._v("#")]),t._v(" 启动")]),a("p",[t._v("在 "),a("code",[t._v("RSSHub")]),t._v(" 文件夹中运行下面的命令就可以启动。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" start\n")])]),a("p",[t._v("在浏览器中打开 "),a("a",{attrs:{href:"http://127.0.0.1:1200/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:1200/")]),t._v("，enjoy it! ✅")]),a("h3",{attrs:{id:"更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 更新")]),a("p",[t._v("在 "),a("code",[t._v("RSSHub")]),t._v(" 文件夹中运行下面的命令就从 github 仓库拉取最新版本。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n")])]),a("h3",{attrs:{id:"添加配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加配置")]),a("p",[t._v("可以通过修改 "),a("code",[t._v("config.js")]),t._v(" 或者设置环境变量来配置 RSSHub。")]),a("p",[a("strong",[t._v("如何设置环境变量")])]),a("p",[t._v("Windows 系统在 cmd.exe 中运行 "),a("code",[t._v("$ set PORT=1000")])]),a("p",[t._v("macOS & Linux 运行 "),a("code",[t._v("$ PORT=1000")])]),a("p",[t._v("再运行 "),a("code",[t._v("$ npm start")]),t._v(" 启动 RSSHub 即可将监听端口设置为 "),a("code",[t._v("1000")]),t._v("。")]),a("p",[t._v("此处设置的环境变量在关闭终端后就会被清除，如果您想保存这些配置可以编写一个简单的 "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Batch_file",target:"_blank",rel:"noopener noreferrer"}},[t._v("批处理文件")]),t._v(" 或 "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Shell_script",target:"_blank",rel:"noopener noreferrer"}},[t._v("shell")]),t._v("。")]),a("p",[t._v("更多配置项请看 "),a("a",{attrs:{href:"#%E5%BA%94%E7%94%A8%E9%85%8D%E7%BD%AE"}},[t._v("应用配置")])]),a("h3",{attrs:{id:"使用-redis-数据库缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-redis-数据库缓存","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用 Redis 数据库缓存")]),a("p",[t._v("RSSHub 默认会有 5 分钟的缓存，默认这个缓存是存放在内存中的。RSSHub 还支持 Redis 数据库缓存。")]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),a("p",[t._v("除非流量特别大或者您需要建立分布式集群，否则不需要 Redis 缓存。")])]),a("h4",{attrs:{id:"安装-redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-redis","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 Redis")]),a("p",[a("strong",[t._v("Windows")])]),a("p",[t._v("安装 Redis on Windows 直接"),a("a",{attrs:{href:"https://github.com/MicrosoftArchive/redis/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载安装程序")]),t._v("。")]),a("p",[t._v("在安装目录中运行下面的命令启动 Redis。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ redis-server  redis.windows.conf\n")])]),a("p",[a("strong",[t._v("MacOS")])]),a("p",[t._v("使用 "),a("a",{attrs:{href:"https://brew.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Homebrew")]),t._v(" 安装 Redis。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ brew "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" redis\n")])]),a("p",[t._v("再运行下面的命令启动 Redis。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ brew services start redis\n")])]),a("p",[a("strong",[t._v("Linux")])]),a("p",[t._v("使用您的包管理器安装 Redis。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# apt")]),t._v("\n$ "),a("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" redis-server\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# yum")]),t._v("\n$ "),a("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" redis\n")])]),a("p",[t._v("然后运行 "),a("code",[t._v("$ redis-server")]),t._v(" 启动 Redis。")]),a("h4",{attrs:{id:"启用-redis-数据库缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启用-redis-数据库缓存","aria-hidden":"true"}},[t._v("#")]),t._v(" 启用 Redis 数据库缓存")]),a("p",[t._v("修改配置项 "),a("code",[t._v("CACHE_TYPE")]),t._v(" 为 "),a("code",[t._v("redis")]),t._v("，RSSHub 将使用默认地址 "),a("code",[t._v("redis://localhost:6379/")]),t._v(" 连接 Redis，如果需要修改地址请看 "),a("a",{attrs:{href:"#%E5%BA%94%E7%94%A8%E9%85%8D%E7%BD%AE"}},[t._v("应用配置")]),t._v("。")]),a("h2",{attrs:{id:"部署到-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署到-docker","aria-hidden":"true"}},[t._v("#")]),t._v(" 部署到 Docker")]),a("p",[t._v("Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。它是目前最流行的 Linux 容器解决方案。")]),a("h3",{attrs:{id:"安装-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 Docker")]),a("p",[t._v("官方网站上有各种环境下的 "),a("a",{attrs:{href:"https://docs.docker.com/engine/installation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装指南")])]),a("h3",{attrs:{id:"部署-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 部署")]),a("p",[t._v("运行下面的命令下载 RSSHub 镜像。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker pull diygod/rsshub\n")])]),a("p",[t._v("然后运行 RSSHub 即可")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker run -d --name rsshub -p 1200:1200 diygod/rsshub\n")])]),a("p",[t._v("在浏览器中打开 "),a("a",{attrs:{href:"http://127.0.0.1:1200/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:1200/")]),t._v("，enjoy it! ✅")]),a("p",[t._v("您可以使用下面的命令来关闭 RSSHub。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker stop rsshub\n")])]),a("h3",{attrs:{id:"更新-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 更新")]),a("p",[t._v("您可以使用下面的命令来更新镜像。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 先关闭 rsshub")]),t._v("\n$ docker stop rsshub\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 删除现有的容器")]),t._v("\n$ docker "),a("span",{attrs:{class:"token function"}},[t._v("rm")]),t._v(" rsshub\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 下载最新版的 rsshub 镜像")]),t._v("\n$ docker pull diygod/rsshub\n")])]),a("h3",{attrs:{id:"添加配置-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加配置-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加配置")]),a("p",[t._v("配置运行在 docker 中的 RSSHub，最便利的方法是使用环境变量。")]),a("p",[t._v("以设置缓存时间为 1 小时举例，只需要在运行时增加参数："),a("code",[t._v("-e CACHE_EXPIRE=3600")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker run -d --name rsshub -p 1200:1200 -e CACHE_EXPIRE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("3600 PORT"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("1000 diygod/rsshub\n")])]),a("p",[t._v("更多配置项请看 "),a("a",{attrs:{href:"#%E5%BA%94%E7%94%A8%E9%85%8D%E7%BD%AE"}},[t._v("应用配置")])]),a("h3",{attrs:{id:"使用-docker-compose-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-compose-部署","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用 docker-compose 部署")]),a("p",[a("a",{attrs:{href:"https://docs.docker.com/compose/overview/",target:"_blank",rel:"noopener noreferrer"}},[t._v("docker-compose")]),t._v(" 是用来运行多容器 Docker 应用的小工具，可以简化配置部署过程：")]),a("ol",[a("li",[t._v("创建 volume 持久化 Redis 缓存")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker volume create redis-data\n")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("修改 "),a("a",{attrs:{href:"https://github.com/DIYgod/RSSHub/blob/master/docker-compose.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("docker-compose.yml")]),t._v(" 中的 "),a("code",[t._v("environment")]),t._v(" 进行配置")])]),a("li",[a("p",[t._v("部署")])])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker-compose up\n")])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("更新")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker-compose build\n$ docker-compose up\n")])]),a("h2",{attrs:{id:"部署到-heroku"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署到-heroku","aria-hidden":"true"}},[t._v("#")]),t._v(" 部署到 Heroku")]),a("p",[a("a",{attrs:{href:"https://heroku.com/deploy?template=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://i.imgur.com/e6ZcmUY.png",alt:"Deploy"}})])]),a("h2",{attrs:{id:"部署到-google-app-engine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署到-google-app-engine","aria-hidden":"true"}},[t._v("#")]),t._v(" 部署到 Google App Engine")]),a("h3",{attrs:{id:"部署之前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署之前","aria-hidden":"true"}},[t._v("#")]),t._v(" 部署之前")]),a("p",[a("a",{attrs:{href:"https://cloud.google.com/appengine/docs/flexible/nodejs/quickstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("Before you begin")])]),a("p",[t._v("按照这里的引导完成 GCP 账号设置，创建 GCP 项目，创建 App Engine 项目，开通付费功能（必须），安装 git 与 gcloud 工具。并完成 gcloud 工具的初始化，初始化具体方式"),a("a",{attrs:{href:"https://cloud.google.com/sdk/gcloud/?hl=zh-CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("请查看这个链接")]),t._v("。如果你不打算在本地调试本项目，可以不安装 Node.js 环境。")]),a("p",[t._v("请注意，GAE 免费用量不支持 Flexible Environment ，部署前请确认收费标准。")]),a("h3",{attrs:{id:"拉取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拉取","aria-hidden":"true"}},[t._v("#")]),t._v(" 拉取")]),a("p",[t._v("运行 git clone https://github.com/DIYgod/RSSHub.git 拉取本项目的最新版本。")]),a("h3",{attrs:{id:"app-yaml-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-yaml-配置","aria-hidden":"true"}},[t._v("#")]),t._v(" app.yaml 配置")]),a("p",[t._v("在 RSSHub 项目根目录下建立一个 app.yaml 文件，内容示例如下：")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# [START app_yaml]")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("runtime")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" custom\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# This sample incurs costs to run on the App Engine flexible environment.")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# The settings below are to reduce costs during testing and are not appropriate")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# for production use. For more information, see:")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# https://cloud.google.com/appengine/docs/flexible/nodejs/configuring-your-app-with-app-yaml")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("manual_scaling")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{attrs:{class:"token key atrule"}},[t._v("instances")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 以下是 app engine 资源配置，可以自行修改，硬盘最低为 10G")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("resources")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{attrs:{class:"token key atrule"}},[t._v("cpu")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),a("span",{attrs:{class:"token key atrule"}},[t._v("memory_gb")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.5")]),t._v("\n  "),a("span",{attrs:{class:"token key atrule"}},[t._v("disk_size_gb")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("network")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{attrs:{class:"token key atrule"}},[t._v("forwarded_ports")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 80"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("1200")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 443"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("1200")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 以下是环境配置示例，具体可配置项见本文档配置章节")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("env_variables")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{attrs:{class:"token key atrule"}},[t._v("CACHE_EXPIRE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"300"')]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# [END app_yaml]")]),t._v("\n")])]),a("h3",{attrs:{id:"开始部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始部署","aria-hidden":"true"}},[t._v("#")]),t._v(" 开始部署")]),a("p",[t._v("在 RSSHub 项目根目录下运行")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("gcloud app deploy\n")])]),a("p",[t._v("进行项目部署，如果您需要变更 app.yaml 文件名称或者变更部署的项目 ID 或者指定版本号等，请参考"),a("a",{attrs:{href:"https://cloud.google.com/appengine/docs/flexible/nodejs/testing-and-deploying-your-app",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个链接")]),t._v('的"Deploying a service" 部分。')]),a("p",[t._v("部署完成后可访问您的 Google App Engine URL 查看部署情况。")]),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置")]),a("h3",{attrs:{id:"应用配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 应用配置")]),a("p",[t._v("可以通过修改 "),a("code",[t._v("config.js")]),t._v(" 或者设置环境变量来配置 RSSHub。")]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),a("p",[t._v("建议通过设置环境变量来配置 RSSHub。避免版本更新时的冲突。")])]),a("p",[a("code",[t._v("PORT")]),t._v(": 监听端口，默认为 "),a("code",[t._v("1200")])]),a("p",[a("code",[t._v("CACHE_TYPE")]),t._v(": 缓存类型，可为 "),a("code",[t._v("memory")]),t._v(" 和 "),a("code",[t._v("redis")]),t._v("，设为空可以禁止缓存，默认为 "),a("code",[t._v("memory")])]),a("p",[a("code",[t._v("CACHE_EXPIRE")]),t._v(": 缓存过期时间，单位为秒，默认 300")]),a("p",[a("code",[t._v("LISTEN_INADDR_ANY")]),t._v(": 是否允许公网连接，默认 1")]),a("p",[a("code",[t._v("REDIS_URL")]),t._v(": Redis 连接地址（memory 缓存类型时无效），默认为 "),a("code",[t._v("redis://localhost:6379/")])]),a("p",[a("code",[t._v("REDIS_PASSWORD")]),t._v(": Redis 连接密码（memory 缓存类型时无效）")]),a("h3",{attrs:{id:"部分-rss-模块配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部分-rss-模块配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 部分 RSS 模块配置")]),a("ul",[a("li",[a("p",[a("code",[t._v("pixiv")]),t._v(": "),a("a",{attrs:{href:"https://accounts.pixiv.net/signup",target:"_blank",rel:"noopener noreferrer"}},[t._v("注册地址")])]),a("ul",[a("li",[a("p",[a("code",[t._v("PIXIV_USERNAME")]),t._v(": Pixiv 用户名")])]),a("li",[a("p",[a("code",[t._v("PIXIV_PASSWORD")]),t._v(": Pixiv 密码")])])])]),a("li",[a("p",[a("code",[t._v("disqus")]),t._v(": "),a("a",{attrs:{href:"https://disqus.com/api/applications/",target:"_blank",rel:"noopener noreferrer"}},[t._v("申请地址")])]),a("ul",[a("li",[a("code",[t._v("DISQUS_API_KEY")]),t._v(": Disqus API")])])]),a("li",[a("p",[a("code",[t._v("twitter")]),t._v(": "),a("a",{attrs:{href:"https://apps.twitter.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("申请地址")])]),a("ul",[a("li",[a("p",[a("code",[t._v("TWITTER_CONSUMER_KEY")]),t._v(": Twitter Consumer Key")])]),a("li",[a("p",[a("code",[t._v("TWITTER_CONSUMER_SECRET")]),t._v(": Twitter Consumer Secret")])]),a("li",[a("p",[a("code",[t._v("TWITTER_ACCESS_TOKEN")]),t._v(": Twitter Access Token")])]),a("li",[a("p",[a("code",[t._v("TWITTER_ACCESS_TOKEN_SECRET")]),t._v(": Twitter Access Token Secret")])])])]),a("li",[a("p",[a("code",[t._v("youtube")]),t._v(": "),a("a",{attrs:{href:"https://console.developers.google.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("申请地址")])]),a("ul",[a("li",[a("code",[t._v("YOUTUBE_KEY")]),t._v(": YouTube API Key")])])]),a("li",[a("p",[a("code",[t._v("telegram")]),t._v(": "),a("a",{attrs:{href:"https://telegram.org/blog/bot-revolution",target:"_blank",rel:"noopener noreferrer"}},[t._v("Telegram 机器人")])]),a("ul",[a("li",[a("code",[t._v("TELEGRAM_TOKEN")]),t._v(": Telegram 机器人 token")])])])])])}],!1,null,null,null);e.default=r.exports}}]);